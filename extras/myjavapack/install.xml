<installation version="1.0">

    <!-- Installer Info. Will be displayed on splash screen -->
    <info>
        <appname>AppFuse</appname>
        <appversion>1.8</appversion>
        <authors>
            <author name="Matt Raible" email="matt@raibledesigns.com"/>
        </authors>
        <url>http://appfuse.dev.java.net</url>
    </info>

    <!-- Size/Width of the installer GUI Window -->
    <guiprefs height="550" resizable="yes" width="750"/>

    <!-- Locale, Izpack supports internationalization -->
    <locale>
        <langpack iso3="eng"/>
    </locale>

    <!-- The Izpack resources, including our logo, which will be displayed in the GUI. -->
    <resources>
        <res src="info.html" id="HTMLInfoPanel.info"/>
        <res src="license.html" id="HTMLLicencePanel.licence"/>
        <res src="logo.gif" id="Installer.image"/>
        <res src="useNativeLAF" id="useNativeLAF"/>
    </resources>

    <!-- The GUI panels that we use. -->
    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="HTMLLicencePanel"/>
        <panel classname="HTMLInfoPanel"/>
        <panel classname="PacksPanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="InstallPanel"/>
    </panels>

    <!-- Start of software packs entries -->
    <packs>

        <!-- You probably don't want to change this pack. Doing so could break the install. -->
        <pack name="install-scripts" required="yes">
            <description>Required Installation Scripts</description>
            <file targetdir="$INSTALL_PATH/bin" override="asktrue" src="build.xml"/>
            <file targetdir="$INSTALL_PATH/bin" override="asktrue" src="build.properties"/>
            <executable keep="true" type="bin" targetfile="$INSTALL_PATH/bin/build.xml"/>
            <executable keep="true" type="bin" targetfile="$INSTALL_PATH/bin/build.properties"/>
            <file targetdir="$INSTALL_PATH/bin" src="ant.jar"/>
            <file targetdir="$INSTALL_PATH/bin" src="myjavapack.jar"/>
            <file targetdir="$INSTALL_PATH/bin" src="ant-launcher.jar"/>
            <executable keep="true" type="jar" targetfile="$INSTALL_PATH/bin/ant.jar"/>
            <executable keep="true" type="jar" targetfile="$INSTALL_PATH/bin/ant-launcher.jar"/>
            <executable keep="true" type="jar" targetfile="$INSTALL_PATH/bin/myjavapack.jar"/>

            <!-- Creates a log directory, so you can log install details. -->
            <executable keep="true" type="jar" stage="install" targetfile="$INSTALL_PATH/bin/ant-launcher.jar">
                <args>
                    <arg value="-buildfile"/>
                    <arg value="$INSTALL_PATH/bin/build.xml"/>
                    <arg value="-propertyfile"/>
                    <arg value="$INSTALL_PATH/bin/build.properties"/>
                    <arg value="logs-init"/>
                </args>
            </executable>
        </pack>

        <!-- ant -->
        <pack name="apache-ant-1.6.2-bin" required="no" bytes="9934848" preselected="yes" packType="devtool">
            <description>Java Build Tool. ANT integrates with many IDEs and Java Frameworks. It is highly configurable, can be used to automate the most complicated builds. Can be used to automate software installations.</description>
            <executable keep="true" failure="abort" stage="install" type="jar" targetfile="$INSTALL_PATH/bin/ant-launcher.jar">
                <args>
                    <arg value="-buildfile"/>
                    <arg value="$INSTALL_PATH/bin/build.xml"/>
                    <arg value="-propertyfile"/>
                    <arg value="$INSTALL_PATH/bin/build.properties"/>
                    
                    <!-- You probably want to specify an install details log -->
                    <arg value="-logfile"/>
                    <arg value="$INSTALL_PATH/bin/logs/apache-ant-1.6.2-bin.log"/>
                    
                    <!-- Ant task that this pack calls -->
                    <arg value="apache-ant-1.6.2-bin"/>
                </args>
            </executable>
        </pack>
        
        <!-- appfuse -->
        <pack name="appfuse-1.8" required="no" bytes="21708800" preselected="yes" packType="framework">
            <description>AppFuse is a "kickstarter" application to help you get started developing Java web applications quickly and efficiently.</description>
            <executable keep="true" failure="abort" stage="install" type="jar" targetfile="$INSTALL_PATH/bin/ant-launcher.jar">
                <args>
                    <arg value="-buildfile"/>
                    <arg value="$INSTALL_PATH/bin/build.xml"/>
                    <arg value="-propertyfile"/>
                    <arg value="$INSTALL_PATH/bin/build.properties"/>
                    
                    <!-- You probably want to specify an install details log -->
                    <arg value="-logfile"/>
                    <arg value="$INSTALL_PATH/bin/logs/appfuse-1.8.log"/>
                    
                    <!-- Ant task that this pack calls -->
                    <arg value="appfuse-1.8"/>
                </args>
            </executable>
        </pack>
        
        <!-- mysql-windows -->
        <pack name="mysql-4.1.11-win-noinstall" os="windows" required="no" bytes="37958451" preselected="no" packType="server">
            <description>The MySQL database server is the world's most popular open source database. This barebones install doesn't add windows registry entries</description>
            <executable keep="true" failure="abort" stage="install" type="jar" targetfile="$INSTALL_PATH/bin/ant-launcher.jar">
                <args>
                    <arg value="-logfile"/>
                    <arg value="$INSTALL_PATH/bin/logs/mysql-4.1.11-win-noinstall.log"/>
                    <arg value="-buildfile"/>
                    <arg value="$INSTALL_PATH/bin/build.xml"/>
                    <arg value="-propertyfile"/>
                    <arg value="$INSTALL_PATH/bin/build.properties"/>                   
                    <arg value="mysql-4.1.11-win-noinstall"/>
                </args>
            </executable>           
        </pack>
        
        <!-- tomcat -->
        <pack name="jakarta-tomcat-5.0.28" required="no" bytes="12959744" preselected="yes" packType="server">
            <description>JSP/Servlet Application Server. Tomcat is the servlet container that is used in the official Reference Implementation for the Java Servlet and JavaServer Pages technologies. The Java Servlet and JavaServer Pages specifications are developed by Sun under the Java Community Process. Tomcat 5 is production grade and supports Servlet API 2.4, JSP 2.0.</description>
            <executable keep="true" failure="abort" stage="install" type="jar" targetfile="$INSTALL_PATH/bin/ant-launcher.jar">
                <args>
                    <arg value="-logfile"/>
                    <arg value="$INSTALL_PATH/bin/logs/jakarta-tomcat-5.0.28.log"/>
                    <arg value="-buildfile"/>
                    <arg value="$INSTALL_PATH/bin/build.xml"/>
                    <arg value="-propertyfile"/>
                    <arg value="$INSTALL_PATH/bin/build.properties"/>
                    <arg value="jakarta-tomcat-5.0.28"/>
                </args>
            </executable>            
        </pack>
    </packs>

</installation>
