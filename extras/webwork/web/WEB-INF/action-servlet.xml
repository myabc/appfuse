<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
    "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <bean id="accountMessage" class="org.springframework.mail.SimpleMailMessage" singleton="false">
        <property name="from"><value><![CDATA[AppFuse <appfuse@raibledesigns.com>]]></value></property>
        <property name="subject"><value>AppFuse Account Information</value></property>
    </bean>
    
    <bean id="passwordMessage" class="org.springframework.mail.SimpleMailMessage" singleton="false">
        <property name="from"><value><![CDATA[AppFuse <appfuse@raibledesigns.com>]]></value></property>
        <property name="subject"><value>AppFuse Password Hint</value></property>
    </bean>
    
    <bean id="adminInterceptor" class="org.appfuse.webapp.interceptor.UserRoleAuthorizationInterceptor">
        <property name="authorizedRoles"><value>admin</value></property>
    </bean>
    
    <bean id="exceptionInterceptor" class="org.appfuse.webapp.interceptor.ExceptionHandlerInterceptor">
        <property name="exceptionMappings">
            <props>
                <prop key="org.springframework.dao.DataAccessException">        
                    dataAccessFailure
                </prop>
            </props>
        </property>
    </bean>
    
    <bean id="signupAction" class="org.appfuse.webapp.action.SignupAction" singleton="false">
        <property name="userManager"><ref bean="userManager"/></property>
        <property name="mailEngine"><ref bean="mailEngine"/></property>
        <property name="message"><ref bean="accountMessage"/></property>
        <property name="templateName"><value>accountCreated.vm</value></property>
    </bean>
    
    <bean id="userAction" class="org.appfuse.webapp.action.UserAction" singleton="false">
        <property name="userManager"><ref bean="userManager"/></property>
        <property name="mailEngine"><ref bean="mailEngine"/></property>
        <property name="message"><ref bean="accountMessage"/></property>
        <property name="templateName"><value>accountCreated.vm</value></property>
    </bean>
    
    <bean id="passwordHintAction" class="org.appfuse.webapp.action.PasswordHintAction" singleton="false">
        <property name="userManager"><ref bean="userManager"/></property>
        <property name="mailEngine"><ref bean="mailEngine"/></property>
        <property name="message"><ref bean="passwordMessage"/></property>
    </bean>
    
    <!-- Add additional actions here -->
</beans>