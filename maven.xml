<?xml version="1.0"?>
<project
    xmlns:maven="jelly:org.apache.maven.jelly.tags.project.MavenTagLibrary"
    >

    <preGoal name="java:compile">

        <!-- add src/gen-java to the sourceset of the java:compile plugin -->
        <path id="gen.java.compile.src.set" location="build/ejb/gen"/>
        <maven:addPath id="maven.compile.src.set" refid="gen.java.compile.src.set"/>

        <echo>Running ejbdoclet...</echo>

        <attainGoal name="xdoclet:ejbdoclet"/>

        <echo>Running ejbdoclet done.</echo>

    </preGoal>

    <postGoal name="java:prepare-filesystem">

        <mkdir dir="build/ejb/gen"/>

    </postGoal>

</project>
