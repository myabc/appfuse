<project>
  <target name="hello">
    <echo>Hello, from the project ${projectName}. Built by ${user.name}</echo>
  </target>
  <target name="genmodel">
    <!-- This is a temporary groovy script to make sure class path is setup until Jason fixes it in Maven. -->
    <script language="groovy">
      import org.apache.tools.ant.types.Path 
      import org.codehaus.plexus.util.StringUtils 
      List compilePath = project.getReference("appfuse.compile.classpath") 
      Path path = new Path(project) 
      path.setPath( StringUtils.join(compilePath.iterator(), File.pathSeparator ) );
      project.addReference("classpath", path);
    </script>
    <taskdef name="hibernatetool"
      classname="org.hibernate.tool.ant.HibernateToolTask">
      <classpath>
        <path refid="classpath" />
      </classpath>
    </taskdef>
    <echo>Using configuration file ${hibernate.properties.file} to generate model pojos to ${appfuse.destination.dir}</echo>
    <hibernatetool destdir="${appfuse.destination.dir}">
       <jdbcconfiguration propertyfile="${hibernate.properties.file}" />
       <hbm2java ejb3="${appfuse.ejb3}" jdk5="${appfuse.jdk5}"/>
       <hbm2cfgxml ejb3="${appfuse.ejb3}"/>
    </hibernatetool>
  </target>
</project>